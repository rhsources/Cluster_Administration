<?xml version='1.0'?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % RH_ENTITIES SYSTEM "./Common_Config/rh-entities.ent">
%RH_ENTITIES;
]>

<appendix id="ch-clumanager-piranha"><title>Using &RHCM; with Piranha</title>
<indexterm>
	
	<primary>LVS</primary>
	<secondary>using &RHCM; with Piranha</secondary>
</indexterm>
<indexterm>
	
	<primary>cluster</primary>
	<secondary>using &RHCM; with Piranha</secondary>
</indexterm>
<indexterm>
	
	<primary>&RHCM;</primary>
	<secondary>and Piranha</secondary>
</indexterm>
<indexterm>
	
	<primary>Piranha</primary>
	<secondary>using &RHCM; with</secondary>
</indexterm>
<para>
	 A cluster can be used in conjunction with the Piranha load-balancing features to deploy a highly available e-commerce site that has complete data integrity and application availability, in addition to load balancing capabilities. 
</para>
<para>
	<xref linkend="fig-clumanager-piranha-lvs" /> shows how you could use &RHCM; with Piranha. The figure shows a cluster with a three-tier architecture, where the top tier consists of Piranha load-balancing systems to distribute Web requests. The second tier consists of a set of Web servers to serve the requests. The third tier consists of a cluster to serve data to the Web servers. 
</para>
<figure id="fig-clumanager-piranha-lvs">
	<title>Cluster in an LVS Environment</title>
	<mediaobject>
		<imageobject>
			<imagedata fileref="images/lvs_cluster.png" />
		</imageobject>
		<textobject><para>
			 Cluster in an LVS Environment 
		</para>
		</textobject>
	</mediaobject>
</figure>
<para>
	 In a Piranha configuration, client systems issue requests on the World Wide Web. For security reasons, these requests enter a Web site through a firewall, which can be a Linux system serving in that capacity or a dedicated firewall device. For redundancy, you can configure firewall devices in a failover configuration. Behind the firewall are Piranha load-balancing systems, which can be configured in an active-standby mode. The active load-balancing system forwards the requests to a set of Web servers. 
</para>
<para>
	 Each Web server can independently process an HTTP request from a client and send the response back to the client. Piranha enables an administrator to expand a Web site's capacity by adding Web servers to the load-balancing systems' set of active Web servers. In addition, if a Web server fails, it can be removed from the set. 
</para>
<para>
	 This Piranha configuration is particularly suitable if the Web servers serve only static Web content, which consists of small amounts of infrequently changing data, such as corporate logos, that can be easily duplicated on the Web servers. However, this configuration is not suitable if the Web servers serve dynamic content, which consists of information that changes frequently. Dynamic content could include a product inventory, purchase orders, or customer database, which must be consistent on all the Web servers to ensure that customers have access to up-to-date and accurate information. 
</para>
<para>
	 To serve dynamic Web content in a Piranha configuration, add a cluster behind the Web servers, as shown in the previous figure. This combination of Piranha and &RHCM; allows for the configuration of a high-integrity, no-single-point-of-failure e-commerce site. The cluster can run a highly-available instance of a database or a set of databases that are network-accessible to the Web servers. 
</para>
<para>
	 For example, the figure could represent an e-commerce site used for online merchandise ordering through a URL. Client requests to the URL pass through the firewall to the active Piranha load-balancing system, which then forwards the requests to one of the three Web servers. The &RHCM; systems serve dynamic data to the Web servers, which forward the data to the requesting client system. 
</para>
</appendix>
