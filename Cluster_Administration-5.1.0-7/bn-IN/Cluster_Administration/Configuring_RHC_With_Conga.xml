<?xml version='1.0'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % RH_ENTITIES SYSTEM "Common_Content/Entities.ent">
%RH_ENTITIES;
<!ENTITY % RH_TRANS_ENTITIES SYSTEM "Common_Content/Translatable-Entities.ent">
%RH_TRANS_ENTITIES;
]>

<chapter id="Cluster_Administration-Configuring_RH_Cluster_With_Conga">
	<title>Configuring &RH; Cluster With <application>Conga</application></title>
	<indexterm>
		<primary>cluster configuration</primary>
	</indexterm>
	<indexterm>
		<primary>cluster software</primary>
		<secondary>configuration</secondary>
	</indexterm>
	<para>
		This chapter describes how to configure &RH; Cluster software using <application>Conga</application>, and consists of the following sections:
	</para>
	<itemizedlist>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuration_Tasks" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Starting_luci_and____ricci" />.
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Creating_A_Cluster" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Global_Cluster_Properties" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Fence_Devices" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Members" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_a_Failover_Domain" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_Cluster_Resources" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_a_Cluster_Service_to_the_Cluster" />
			</para>
		</listitem>
		<listitem>
			<para>
				<xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Storage" />
			</para>
		</listitem>
	</itemizedlist>
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuration_Tasks">
		<title>Configuration Tasks</title>
		<para>
			Configuring &RH; Cluster software with <application>Conga</application> consists of the following steps:
		</para>
		<orderedlist>
			<listitem>
				<para>
					Configuring and running the <application>Conga</application> configuration user interface &mdash; the <application>luci</application> server. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Starting_luci_and____ricci" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Creating a cluster. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Creating_A_Cluster" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Configuring global cluster properties. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Global_Cluster_Properties" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Configuring fence devices. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Fence_Devices" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Configuring cluster members. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Members" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Creating failover domains. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_a_Failover_Domain" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Creating resources. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_Cluster_Resources" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Creating cluster services. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_a_Cluster_Service_to_the_Cluster" />.
				</para>
			</listitem>
			<listitem>
				<para>
					Configuring storage. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Storage" />.
				</para>
			</listitem>
		</orderedlist>
	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Starting_luci_and____ricci">
		<title>Starting <application>luci</application> and <application>ricci</application></title>
		<para>
			To administer &RH; Clusters with <application>Conga</application>, install and run <application>luci</application> and <application>ricci</application> as follows:
		</para>
		<orderedlist>
			<listitem>
				<para>
					At each node to be administered by <application>Conga</application>, install the <application>ricci</application> agent. For example:
				</para>
<screen>
# <userinput>yum install ricci</userinput></screen>
			</listitem>
			<listitem>
				<para>
					At each node to be administered by <application>Conga</application>, start <application>ricci</application>. For example:
				</para>
<screen>
# <userinput>service ricci start</userinput>
Starting ricci:                                            [  OK  ]
</screen>
			</listitem>
			<listitem>
				<para>
					Select a computer to host <application>luci</application> and install the <application>luci</application> software on that computer. For example:
				</para>
<screen>
# <userinput>yum install luci</userinput></screen>
				<note>
					<title>Note</title>
					<para>
						Typically, a computer in a server cage or a data center hosts <application>luci</application>; however, a cluster computer can host <application>luci</application>.
					</para>
				</note>
			</listitem>
			<listitem>
				<para>
					At the computer running <application>luci</application>, initialize the <application>luci</application> server using the <command>luci_admin init</command> command. For example:
				</para>
<screen>
# <userinput>luci_admin init</userinput>
Initializing the Luci server


Creating the &#39;admin&#39; user

Enter password:  &lt;Type password and press ENTER.&gt;
Confirm password: &lt;Re-type password and press ENTER.&gt;

Please wait...
The admin password has been successfully set.
Generating SSL certificates...
Luci server has been successfully initialized


Restart the Luci server for changes to take effect
eg. service luci restart
</screen>
			</listitem>
			<listitem>
				<para>
					Start <application>luci</application> using <command>service luci restart</command>. For example:
				</para>
<screen>
# <userinput>service luci restart</userinput>
Shutting down luci:                                        [  OK  ]
Starting luci: generating https SSL certificates...  done
                                                           [  OK  ]

Please, point your web browser to https://nano-01:8084 to access luci
</screen>
			</listitem>
			<listitem>
				<para>
					At a Web browser, place the URL of the <application>luci</application> server into the URL address box and click <guiicon>Go </guiicon> (or the equivalent). The URL syntax for the <application>luci</application> server is <userinput>https://<replaceable>luci_server_hostname</replaceable>:8084</userinput>. The first time you access <application>luci</application>, two SSL certificate dialog boxes are displayed. Upon acknowledging the dialog boxes, your Web browser displays the <application>luci</application> login page.
				</para>
			</listitem>
		</orderedlist>
	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Creating_A_Cluster">
		<title>Creating A Cluster</title>
		<para>
			Creating a cluster with <application>luci</application>consists of selecting cluster nodes, entering their passwords, and submitting the request to create a cluster. If the node information and passwords are correct, <application>Conga</application> automatically installs software into the cluster nodes and starts the cluster. Create a cluster as follows:
		</para>
		<orderedlist>
			<listitem>
				<para>
					As administrator of <application>luci</application>, select the <guimenu>cluster</guimenu> tab.
				</para>
			</listitem>
			<listitem>
				<para>
					Click <guimenu>Create a New Cluster</guimenu>.
				</para>
			</listitem>
			<listitem>
				<para>
					At the <guimenu>Cluster Name</guimenu> text box, enter a cluster name. The cluster name cannot exceed 15 characters. Add the node name and password for each cluster node. Enter the node name for each node in the <guimenu>Node Hostname</guimenu> column; enter the root password for each node in the in the <guimenu>Root Password</guimenu> column. Check the <guimenu>Enable Shared Storage Support</guimenu> checkbox if clustered storage is required.
				</para>
			</listitem>
			<listitem>
				<para>
					Click <guibutton>Submit</guibutton>. Clicking <guibutton>Submit</guibutton> causes the following actions:
				</para>
				<orderedlist>
					<listitem>
						<para>
							Cluster software packages to be downloaded onto each cluster node.
						</para>
					</listitem>
					<listitem>
						<para>
							Cluster software to be installed onto each cluster node.
						</para>
					</listitem>
					<listitem>
						<para>
							Cluster configuration file to be created and propagated to each node in the cluster.
						</para>
					</listitem>
					<listitem>
						<para>
							Starting the cluster.
						</para>
					</listitem>
				</orderedlist>
				<para>
					A progress page shows the progress of those actions for each node in the cluster.
				</para>
				<para>
					When the process of creating a new cluster is complete, a page is displayed providing a configuration interface for the newly created cluster.
				</para>
			</listitem>
		</orderedlist>
	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Global_Cluster_Properties">
		<title>Global Cluster Properties</title>
		<para>
			When a cluster is created, or if you select a cluster to configure, a cluster-specific page is displayed. The page provides an interface for configuring cluster-wide properties and detailed properties. You can configure cluster-wide properties with the tabbed interface below the cluster name. The interface provides the following tabs: <guimenu>General</guimenu>, <guimenu>Fence</guimenu>, <guimenu>Multicast</guimenu>, and <guimenu>Quorum Partition</guimenu>. To configure the parameters in those tabs, follow the steps in this section. If you do not need to configure parameters in a tab, skip the step for that tab.
		</para>
		<orderedlist>
			<listitem>
				<para>
					<guimenu>General</guimenu> tab &mdash; This tab displays cluster name, the configuration version, and advanced cluster properties. The parameters are summarized as follows:
				</para>
				<itemizedlist>
					<listitem>
						<para>
							The <guimenu>Cluster Name</guimenu> text box displays the cluster name; it does not accept a cluster name change. You cannot change the cluster name. The only way to change the name of a Red Hat cluster is to create a new cluster configuration with the new name.
						</para>
					</listitem>
					<listitem>
						<para>
							The <guimenu>Configuration Version</guimenu> value is set to <userinput>1</userinput> by default and is automatically incremented each time you modify your cluster configuration. However, if you need to set it to another value, you can specify it at the <guimenu>Configuration Version</guimenu> text box.
						</para>
					</listitem>
					<listitem>
						<para>
							You can enter advanced cluster properties by clicking <guimenu>Show advanced cluster properties</guimenu>. Clicking <guimenu>Show advanced cluster properties</guimenu> reveals a list of advanced properties. You can click any advanced property for online help about the property.
						</para>
					</listitem>
				</itemizedlist>
				<para>
					Enter the values required and click <guibutton>Apply</guibutton> for changes to take effect.
				</para>
			</listitem>
			<listitem>
				<para>
					<guimenu>Fence</guimenu> tab &mdash; This tab displays the <guimenu>Fence Daemon Properties</guimenu> parameters: <guimenu>Post-Fail Delay</guimenu> and <guimenu>Post-Join Delay</guimenu>. The parameters are summarized as follows:
				</para>
				<itemizedlist>
					<listitem>
						<para>
							The <guimenu>Post-Fail Delay</guimenu> parameter is the number of seconds the fence daemon (<command>fenced</command>) waits before fencing a node (a member of the fence domain) after the node has failed. The <guimenu>Post-Fail Delay</guimenu> default value is <userinput>0</userinput>. Its value may be varied to suit cluster and network performance.
						</para>
					</listitem>
					<listitem>
						<para>
							The <guimenu>Post-Join Delay</guimenu> parameter is the number of seconds the fence daemon (<command>fenced</command>) waits before fencing a node after the node joins the fence domain. The <guimenu>Post-Join Delay</guimenu> default value is <userinput>3</userinput>. A typical setting for <guimenu>Post-Join Delay</guimenu> is between 20 and 30 seconds, but can vary according to cluster and network performance.
						</para>
					</listitem>
				</itemizedlist>
				<para>
					Enter values required and Click <guibutton>Apply</guibutton> for changes to take effect.
				</para>
				<note>
					<title>Note</title>
					<para>
						For more information about <guimenu>Post-Join Delay</guimenu> and <guimenu>Post-Fail Delay</guimenu>, refer to the <citerefentry><refentrytitle>fenced</refentrytitle><manvolnum>8</manvolnum></citerefentry> man page.
					</para>
				</note>
			</listitem>
			<listitem>
				<para>
					<guimenu>Multicast</guimenu> tab &mdash; This tab displays the <guimenu>Multicast Configuration</guimenu> parameters: <guimenu>Let cluster choose the multicast address</guimenu> and <guimenu>Specify the multicast address manually</guimenu>. &RH; Cluster software chooses a multicast address for cluster management communication among cluster nodes; therefore, the default setting is <guimenu>Let cluster choose the multicast address</guimenu>. If you need to use a specific multicast address, click <guimenu>Specify the multicast address manually</guimenu>, enter a multicast address into the text box, and click <guibutton>Apply</guibutton> for changes to take effect.
				</para>
			</listitem>
			<listitem>
				<para>
					<guimenu>Quorum Partition</guimenu> tab &mdash; This tab displays the <guimenu>Quorum Partition Configuration</guimenu> parameters: <guimenu>Do not use a Quorum Partition</guimenu> and <guimenu>Use a Quorum Partition</guimenu>. The default setting is <guimenu>Do not use a Quorum Partition</guimenu>. If you need to use a quorum disk, click <guimenu>Use a Quorum Partition</guimenu>, enter quorum disk parameters, and click <guibutton>Apply</guibutton> for changes to take effect.
				</para>
				<note>
					<title>Note</title>
					<para>
						For more information about setting <guimenu>Quorum Partition</guimenu> parameters, refer to the <citerefentry><refentrytitle>qdisk</refentrytitle><manvolnum>8</manvolnum></citerefentry> man page.
					</para>
				</note>
			</listitem>
		</orderedlist>
	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Fence_Devices">
		<title>Configuring Fence Devices</title>
		<para>
			Configuring fence devices consists of creating, modifying, and deleting fence devices. Creating a fence device consists of selecting a fence device type and entering parameters for that fence device (for example, name, IP address, login, and password). Modifying a fence device consists of selecting an existing fence device and changing parameters for that fence device. Deleting a fence device consists of selecting an existing fence device and deleting it.
		</para>
		<tip>
			<title>Tip</title>
			<para>
				If you are creating a new cluster, you can create fence devices when you configure cluster nodes. Refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Members" />.
			</para>
		</tip>
		<para>
			With <application>Conga</application> you can create shared and non-shared fence devices.
		</para>
		<para>
			The following shared fence devices are available:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					APC Power Switch
				</para>
			</listitem>
			<listitem>
				<para>
					Brocade Fabric Switch
				</para>
			</listitem>
			<listitem>
				<para>
					Bull PAP
				</para>
			</listitem>
			<listitem>
				<para>
					Egenera SAN Controller
				</para>
			</listitem>
			<listitem>
				<para>
					GNBD
				</para>
			</listitem>
			<listitem>
				<para>
					IBM Blade Center
				</para>
			</listitem>
			<listitem>
				<para>
					McData SAN Switch
				</para>
			</listitem>
			<listitem>
				<para>
					QLogic SANbox2
				</para>
			</listitem>
			<listitem>
				<para>
					SCSI Fencing
				</para>
			</listitem>
			<listitem>
				<para>
					Virtual Machine Fencing
				</para>
			</listitem>
			<listitem>
				<para>
					Vixel SAN Switch
				</para>
			</listitem>
			<listitem>
				<para>
					WTI Power Switch
				</para>
			</listitem>
		</itemizedlist>
		<para>
			The following non-shared fence devices are available:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					Dell DRAC
				</para>
			</listitem>
			<listitem>
				<para>
					HP iLO
				</para>
			</listitem>
			<listitem>
				<para>
					IBM RSA II
				</para>
			</listitem>
			<listitem>
				<para>
					IPMI LAN
				</para>
			</listitem>
			<listitem>
				<para>
					RPS10 Serial Switch
				</para>
			</listitem>
		</itemizedlist>
		<para>
			This section provides procedures for the following tasks:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					Creating <emphasis>shared</emphasis> fence devices &mdash; Refer to <xref linkend="Cluster_Administration-Configuring_Fence_Devices-Creating_a_Shared_Fence_Device" />. The procedures apply <emphasis>only</emphasis> to creating shared fence devices. You can create <emphasis>non-shared</emphasis> (and shared) fence devices while configuring nodes (refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Members" />).
				</para>
			</listitem>
			<listitem>
				<para>
					Modifying or deleting fence devices &mdash; Refer to <xref linkend="Cluster_Administration-Configuring_Fence_Devices-Modifying_or_Deleting_a_Fence_Device" />. The procedures apply to both shared and non-shared fence devices.
				</para>
			</listitem>
		</itemizedlist>
		<para>
			The starting point of each procedure is at the cluster-specific page that you navigate to from <guilabel>Choose a cluster to administer</guilabel> displayed on the <guimenu>cluster</guimenu> tab.
		</para>
		<section id="Cluster_Administration-Configuring_Fence_Devices-Creating_a_Shared_Fence_Device">
			<title>Creating a Shared Fence Device</title>
			<para>
				To create a shared fence device, follow these steps:
			</para>
			<orderedlist>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Shared Fence Devices</guimenu>. Clicking <guimenu>Shared Fence Devices</guimenu> causes the display of the fence devices for a cluster and causes the display of menu items for fence device configuration: <guimenu>Add a Fence Device</guimenu> and <guimenu>Configure a Fence Device</guimenu>.
					</para>
					<note>
						<title>Note</title>
						<para>
							If this is an initial cluster configuration, no fence devices have been created, and therefore none are displayed.
						</para>
					</note>
				</listitem>
				<listitem>
					<para>
						Click <guimenu>Add a Fence Device</guimenu>. Clicking <guimenu>Add a Fence Device</guimenu> causes the <guilabel>Add a Sharable Fence Device</guilabel> page to be displayed (refer to <xref linkend="Cluster_Administration-Creating_a_Shared_Fence_Device-Fence_Device_Configuration" />).
					</para>
					<figure id="Cluster_Administration-Creating_a_Shared_Fence_Device-Fence_Device_Configuration">
						<title>Fence Device Configuration</title>
						<mediaobject>
							<imageobject>
								<imagedata fileref="./images/fence-device-config-dbox-conga.png" />
							</imageobject>
							<textobject>
								<para>
									fence configuration dialog box
								</para>
							</textobject>
						</mediaobject>
					</figure>
				</listitem>
				<listitem>
					<para>
						At the <guilabel>Add a Sharable Fence Device</guilabel> page, click the drop-down box under <guimenu>Fencing Type</guimenu> and select the type of fence device to configure.
					</para>
				</listitem>
				<listitem>
					<para>
						Specify the information in the <guilabel>Fencing Type </guilabel> dialog box according to the type of fence device. Refer to <xref linkend="Cluster_Administration-Fence_Device_Parameters" /> for more information about fence device parameters.
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guibutton>Add this shared fence device</guibutton>.
					</para>
				</listitem>
				<listitem>
					<para>
						Clicking <guibutton>Add this shared fence device</guibutton> causes a progress page to be displayed temporarily. After the fence device has been added, the detailed cluster properties menu is updated with the fence device under <guimenu>Configure a Fence Device</guimenu>.
					</para>
				</listitem>
			</orderedlist>
		</section>
		
		<section id="Cluster_Administration-Configuring_Fence_Devices-Modifying_or_Deleting_a_Fence_Device">
			<title>Modifying or Deleting a Fence Device</title>
			<para>
				To modify or delete a fence device, follow these steps:
			</para>
			<orderedlist>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Shared Fence Devices</guimenu>. Clicking <guimenu>Shared Fence Devices</guimenu> causes the display of the fence devices for a cluster and causes the display of menu items for fence device configuration: <guimenu>Add a Fence Device</guimenu> and <guimenu>Configure a Fence Device</guimenu>.
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guimenu>Configure a Fence Device</guimenu>. Clicking <guimenu>Configure a Fence Device</guimenu> causes the display of a list of fence devices under <guimenu>Configure a Fence Device</guimenu>.
					</para>
				</listitem>
				<listitem>
					<para>
						Click a fence device in the list. Clicking a fence device in the list causes the display of a <guilabel>Fence Device Form</guilabel> page for the fence device selected from the list.
					</para>
				</listitem>
				<listitem>
					<para>
						Either modify or delete the fence device as follows:
					</para>
					<itemizedlist>
						<listitem>
							<para>
								To modify the fence device, enter changes to the parameters displayed. Refer to <xref linkend="Cluster_Administration-Fence_Device_Parameters" /> for more information about fence device parameters. Click <guibutton>Update this fence device</guibutton> and wait for the configuration to be updated.
							</para>
						</listitem>
						<listitem>
							<para>
								To delete the fence device, click <guibutton>Delete this fence device</guibutton> and wait for the configuration to be updated.
							</para>
							<note>
								<title>Note</title>
								<para>
									You can create shared fence devices on the node configuration page, also. However, you can only modify or delete a shared fence device via <guimenu>Shared Fence Devices</guimenu> at the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu).
								</para>
							</note>
						</listitem>
					</itemizedlist>
				</listitem>
			</orderedlist>
		</section>

	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Members">
		<title>Configuring Cluster Members</title>
		<para>
			Configuring cluster members consists of initially configuring nodes in a newly configured cluster, adding members, and deleting members. The following sections provide procedures for initial configuration of nodes, adding nodes, and deleting nodes:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					<xref linkend="Cluster_Administration-Configuring_Cluster_Members-Initially_Configuring_Members" />
				</para>
			</listitem>
			<listitem>
				<para>
					<xref linkend="Cluster_Administration-Configuring_Cluster_Members-Adding_a_Member_to_a_Running_Cluster" />
				</para>
			</listitem>
			<listitem>
				<para>
					<xref linkend="Cluster_Administration-Configuring_Cluster_Members-Deleting_a_Member_from_a_Cluster" />
				</para>
			</listitem>
		</itemizedlist>
		<section id="Cluster_Administration-Configuring_Cluster_Members-Initially_Configuring_Members">
			<title>Initially Configuring Members</title>
			<para>
				Creating a cluster consists of selecting a set of nodes (or members) to be part of the cluster. Once you have completed the initial step of creating a cluster and creating fence devices, you need to configure cluster nodes. To initially configure cluster nodes after creating a new cluster, follow the steps in this section. The starting point of the procedure is at the cluster-specific page that you navigate to from <guilabel>Choose a cluster to administer</guilabel> displayed on the <guimenu>cluster</guimenu> tab.
			</para>
			<orderedlist>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Nodes</guimenu>. Clicking <guimenu>Nodes</guimenu> causes the display of an <guimenu>Add a Node</guimenu> element and a <guimenu>Configure</guimenu> element with a list of the nodes already configured in the cluster.
					</para>
				</listitem>
				<listitem>
					<para>
						Click a link for a node at either the list in the center of the page or in the list in the detailed menu under the <guimenu>clusters</guimenu> menu. Clicking a link for a node causes a page to be displayed for that link showing how that node is configured.
					</para>
				</listitem>
				<listitem>
					<para>
						At the bottom of the page, under <guimenu>Main Fencing Method</guimenu>, click <guibutton>Add a fence device to this level</guibutton>.
					</para>
				</listitem>
				<listitem>
					<para>
						Select a fence device and provide parameters for the fence device (for example port number).
					</para>
					<note>
						<title>Note</title>
						<para>
							You can choose from an existing fence device or create a new fence device.
						</para>
					</note>
				</listitem>
				<listitem>
					<para>
						Click <guibutton>Update main fence properties</guibutton> and wait for the change to take effect.
					</para>
				</listitem>
			</orderedlist>
		</section>
		
		<section id="Cluster_Administration-Configuring_Cluster_Members-Adding_a_Member_to_a_Running_Cluster">
			<title>Adding a Member to a Running Cluster</title>
			<para>
				To add a member to a running cluster, follow the steps in this section. The starting point of the procedure is at the cluster-specific page that you navigate to from <guilabel>Choose a cluster to administer</guilabel> displayed on the <guimenu>cluster</guimenu> tab.
			</para>
			<orderedlist>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Nodes</guimenu>. Clicking <guimenu>Nodes</guimenu> causes the display of an <guimenu>Add a Node</guimenu> element and a <guimenu>Configure</guimenu> element with a list of the nodes already configured in the cluster. (In addition, a list of the cluster nodes is displayed in the center of the page.)
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guimenu>Add a Node</guimenu>. Clicking <guimenu>Add a Node</guimenu> causes the display of the <guilabel>Add a node to <replaceable>cluster name</replaceable></guilabel> page.
					</para>
				</listitem>
				<listitem>
					<para>
						At that page, enter the node name in the <guimenu>Node Hostname</guimenu> text box; enter the root password in the <guimenu>Root Password</guimenu> text box. Check the <guimenu>Enable Shared Storage Support</guimenu> checkbox if clustered storage is required. If you want to add more nodes, click <guibutton>Add another entry</guibutton> and enter node name and password for the each additional node.
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guibutton>Submit</guibutton>. Clicking <guibutton>Submit</guibutton> causes the following actions:
					</para>
					<orderedlist>
						<listitem>
							<para>
								Cluster software packages to be downloaded onto the added node.
							</para>
						</listitem>
						<listitem>
							<para>
								Cluster software to be installed (or verification that the appropriate software packages are installed) onto the added node.
							</para>
						</listitem>
						<listitem>
							<para>
								Cluster configuration file to be updated and propagated to each node in the cluster &mdash; including the added node.
							</para>
						</listitem>
						<listitem>
							<para>
								Joining the added node to cluster.
							</para>
						</listitem>
					</orderedlist>
					<para>
						A progress page shows the progress of those actions for each added node.
					</para>
				</listitem>
				<listitem>
					<para>
						When the process of adding a node is complete, a page is displayed providing a configuration interface for the cluster.
					</para>
				</listitem>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Nodes</guimenu>. Clicking <guimenu>Nodes</guimenu> causes the following displays:
					</para>
					<itemizedlist>
						<listitem>
							<para>
								A list of cluster nodes in the center of the page
							</para>
						</listitem>
						<listitem>
							<para>
								The <guimenu>Add a Node</guimenu> element and the <guimenu>Configure</guimenu> element with a list of the nodes configured in the cluster at the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu)
							</para>
						</listitem>
					</itemizedlist>
				</listitem>
				<listitem>
					<para>
						Click the link for an added node at either the list in the center of the page or in the list in the detailed menu under the <guimenu>clusters</guimenu> menu. Clicking the link for the added node causes a page to be displayed for that link showing how that node is configured.
					</para>
				</listitem>
				<listitem>
					<para>
						At the bottom of the page, under <guimenu>Main Fencing Method</guimenu>, click <guibutton>Add a fence device to this level</guibutton>.
					</para>
				</listitem>
				<listitem>
					<para>
						Select a fence device and provide parameters for the fence device (for example port number).
					</para>
					<note>
						<title>Note</title>
						<para>
							You can choose from an existing fence device or create a new fence device.
						</para>
					</note>
				</listitem>
				<listitem>
					<para>
						Click <guibutton>Update main fence properties</guibutton> and wait for the change to take effect.
					</para>
				</listitem>
			</orderedlist>
		</section>
		
		<section id="Cluster_Administration-Configuring_Cluster_Members-Deleting_a_Member_from_a_Cluster">
			<title>Deleting a Member from a Cluster</title>
			<para>
				To delete a member from an existing cluster that is currently in operation, follow the steps in this section. The starting point of the procedure is at the <guilabel>Choose a cluster to administer</guilabel> page (displayed on the <guimenu>cluster</guimenu> tab).
			</para>
			<orderedlist>
				<listitem>
					<para>
						Click the link of the node to be deleted. Clicking the link of the node to be deleted causes a page to be displayed for that link showing how that node is configured.
					</para>
					<note>
						<title>Note</title>
						<para>
							To allow services running on a node to fail over when the node is deleted, skip the next step.
						</para>
					</note>
				</listitem>
				<listitem>
					<para>
						Disable or relocate each service that is running on the node to be deleted:
					</para>
					<note>
						<title>Note</title>
						<para>
							Repeat this step for each service that needs to be disabled or started on another node.
						</para>
					</note>
					<orderedlist>
						<listitem>
							<para>
								Under <guimenu>Services on this Node</guimenu>, click the link for a service. Clicking that link cause a configuration page for that service to be displayed.
							</para>
						</listitem>
						<listitem>
							<para>
								On that page, at the <guimenu>Choose a task</guimenu>drop-down box, choose to either disable the service are start it on another node and click <guibutton>Go</guibutton>.
							</para>
						</listitem>
						<listitem>
							<para>
								Upon confirmation that the service has been disabled or started on another node, click the <guimenu>cluster</guimenu> tab. Clicking the <guimenu>cluster</guimenu> tab causes the <guilabel>Choose a cluster to administer</guilabel> page to be displayed.
							</para>
						</listitem>
						<listitem>
							<para>
								At the <guilabel>Choose a cluster to administer</guilabel> page, click the link of the node to be deleted. Clicking the link of the node to be deleted causes a page to be displayed for that link showing how that node is configured.
							</para>
						</listitem>
					</orderedlist>
				</listitem>
				<listitem>
					<para>
						On that page, at the <guimenu>Choose a task</guimenu>drop-down box, choose <guimenuitem>Delete this node</guimenuitem> and click <guibutton>Go</guibutton>. When the node is deleted, a page is displayed that lists the nodes in the cluster. Check the list to make sure that the node has been deleted.
					</para>
				</listitem>
			</orderedlist>
		</section>

	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_a_Failover_Domain">
		<title>Configuring a Failover Domain</title>
		<para>
			A failover domain is a named subset of cluster nodes that are eligible to run a cluster service in the event of a node failure. A failover domain can have the following characteristics:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					Unrestricted &mdash; Allows you to specify that a subset of members are preferred, but that a cluster service assigned to this domain can run on any available member.
				</para>
			</listitem>
			<listitem>
				<para>
					Restricted &mdash; Allows you to restrict the members that can run a particular cluster service. If none of the members in a restricted failover domain are available, the cluster service cannot be started (either manually or by the cluster software).
				</para>
			</listitem>
			<listitem>
				<para>
					Unordered &mdash; When a cluster service is assigned to an unordered failover domain, the member on which the cluster service runs is chosen from the available failover domain members with no priority ordering.
				</para>
			</listitem>
			<listitem>
				<para>
					Ordered &mdash; Allows you to specify a preference order among the members of a failover domain. The member at the top of the list is the most preferred, followed by the second member in the list, and so on.
				</para>
			</listitem>
		</itemizedlist>
		<note>
			<title>Note</title>
			<para>
				Changing a failover domain configuration has no effect on currently running services.
			</para>
		</note>
		<note>
			<title>Note</title>
			<para>
				Failover domains are <emphasis>not</emphasis> required for operation.
			</para>
		</note>
		<para>
			By default, failover domains are unrestricted and unordered.
		</para>
		<para>
			In a cluster with several members, using a restricted failover domain can minimize the work to set up the cluster to run a cluster service (such as <filename>httpd</filename>), which requires you to set up the configuration identically on all members that run the cluster service). Instead of setting up the entire cluster to run the cluster service, you must set up only the members in the restricted failover domain that you associate with the cluster service.
		</para>
		<tip>
			<title>Tip</title>
			<para>
				To configure a preferred member, you can create an unrestricted failover domain comprising only one cluster member. Doing that causes a cluster service to run on that cluster member primarily (the preferred member), but allows the cluster service to fail over to any of the other members.
			</para>
		</tip>
		<para>
			The following sections describe adding a failover domain and modifying a failover domain:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					<xref linkend="Cluster_Administration-Configuring_a_Failover_Domain-Adding_a_Failover_Domain" />
				</para>
			</listitem>
			<listitem>
				<para>
					<xref linkend="Cluster_Administration-Configuring_a_Failover_Domain-Modifying_a_Failover_Domain" />
				</para>
			</listitem>
		</itemizedlist>
		<section id="Cluster_Administration-Configuring_a_Failover_Domain-Adding_a_Failover_Domain">
			<title>Adding a Failover Domain</title>
			<para>
				To add a failover domain, follow the steps in this section. The starting point of the procedure is at the cluster-specific page that you navigate to from <guilabel>Choose a cluster to administer</guilabel> displayed on the <guimenu>cluster</guimenu> tab.
			</para>
			<orderedlist>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Failover Domains</guimenu>. Clicking <guimenu>Failover Domains</guimenu> causes the display of failover domains with related services and the display of menu items for failover domains: <guimenu>Add a Failover Domain</guimenu> and <guimenu>Configure a Failover Domain </guimenu>.
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guimenu>Add a Failover Domain</guimenu>. Clicking <guimenu>Add a Failover Domain</guimenu> causes the display of the <guilabel>Add a Failover Domain</guilabel> page.
					</para>
				</listitem>
				<listitem>
					<para>
						At the <guilabel>Add a Failover Domain</guilabel> page, specify a failover domain name at the <guimenu>Failover Domain Name</guimenu> text box.
					</para>
					<note>
						<title>Note</title>
						<para>
							The name should be descriptive enough to distinguish its purpose relative to other names used in your cluster.
						</para>
					</note>
				</listitem>
				<listitem>
					<para>
						To enable setting failover priority of the members in the failover domain, click the <guimenu>Prioritized</guimenu> checkbox. With <guimenu>Prioritized</guimenu> checked, you can set the priority value, <guimenu>Priority</guimenu>, for each node selected as members of the failover domain.
					</para>
				</listitem>
				<listitem>
					<para>
						To restrict failover to members in this failover domain, click the checkbox next to <guimenu>Restrict failover to this domain&#39;s members</guimenu>. With <guimenu>Restrict failover to this domain&#39;s members</guimenu> checked, services assigned to this failover domain fail over only to nodes in this failover domain.
					</para>
				</listitem>
				<listitem>
					<para>
						Configure members for this failover domain. Under <guimenu>Failover domain membership</guimenu>, click the <guimenu>Member</guimenu>checkbox for each node that is to be a member of the failover domain. If <guimenu>Prioritized</guimenu> is checked, set the priority in the <guimenu>Priority</guimenu> text box for each member of the failover domain.
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guibutton>Submit</guibutton>. Clicking <guibutton>Submit</guibutton> causes a progress page to be displayed followed by the display of the <guilabel>Failover Domain Form</guilabel> page. That page displays the added resource and includes the failover domain in the cluster menu to the left under <guimenu>Domain</guimenu>.
					</para>
				</listitem>
				<listitem>
					<para>
						To make additional changes to the failover domain, continue modifications at the <guilabel>Failover Domain Form</guilabel> page and click <guibutton>Submit</guibutton> when you are done.
					</para>
				</listitem>
			</orderedlist>
		</section>
		
		<section id="Cluster_Administration-Configuring_a_Failover_Domain-Modifying_a_Failover_Domain">
			<title>Modifying a Failover Domain</title>
			<para>
				To modify a failover domain, follow the steps in this section. The starting point of the procedure is at the cluster-specific page that you navigate to from <guilabel>Choose a cluster to administer</guilabel> displayed on the <guimenu>cluster</guimenu> tab.
			</para>
			<orderedlist>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Failover Domains</guimenu>. Clicking <guimenu>Failover Domains</guimenu> causes the display of failover domains with related services and the display of menu items for failover domains: <guimenu>Add a Failover Domain</guimenu> and <guimenu>Configure a Failover Domain </guimenu>.
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guimenu>Configure a Failover Domain</guimenu>. Clicking <guimenu>Configure a Failover Domain</guimenu> causes the display of failover domains under <guimenu>Configure a Failover Domain</guimenu> at the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu).
					</para>
				</listitem>
				<listitem>
					<para>
						At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click the failover domain to modify. Clicking the failover domain causes the display of the <guilabel>Failover Domain Form</guilabel> page. At the <guilabel>Failover Domain Form</guilabel> page, you can modify the failover domain name, prioritize failover, restrict failover to this domain, and modify failover domain membership.
					</para>
				</listitem>
				<listitem>
					<para>
						Modifying failover name &mdash; To change the failover domain name, modify the text at the <guimenu>Failover Domain Name</guimenu> text box.
					</para>
					<note>
						<title>Note</title>
						<para>
							The name should be descriptive enough to distinguish its purpose relative to other names used in your cluster.
						</para>
					</note>
				</listitem>
				<listitem>
					<para>
						Failover priority &mdash; To enable or disable prioritized failover in this failover domain, click the <guimenu>Prioritized</guimenu> checkbox. With <guimenu>Prioritized</guimenu> checked, you can set the priority value, <guimenu>Priority</guimenu>, for each node selected as members of the failover domain. With <guimenu>Prioritized</guimenu><emphasis>not</emphasis> checked, setting priority levels is disabled for this failover domain.
					</para>
				</listitem>
				<listitem>
					<para>
						Restricted failover &mdash; To enable or disable restricted failover for members in this failover domain, click the checkbox next to <guimenu>Restrict failover to this domain&#39;s members</guimenu>. With <guimenu>Restrict failover to this domain&#39;s members</guimenu> checked, services assigned to this failover domain fail over only to nodes in this failover domain. With <guimenu>Restrict failover to this domain&#39;s members</guimenu><emphasis>not</emphasis> checked, services assigned to this failover domain can fail over to nodes outside this failover domain.
					</para>
				</listitem>
				<listitem>
					<para>
						Modifying failover domain membership &mdash; Under <guimenu>Failover domain membership</guimenu>, click the <guimenu>Member</guimenu>checkbox for each node that is to be a member of the failover domain. A checked box for a node means that the node is a member of the failover domain. If <guimenu>Prioritized</guimenu> is checked, you can adjust the priority in the <guimenu>Priority</guimenu> text box for each member of the failover domain.
					</para>
				</listitem>
				<listitem>
					<para>
						Click <guibutton>Submit</guibutton>. Clicking <guibutton>Submit</guibutton> causes a progress page to be displayed followed by the display of the <guilabel>Failover Domain Form</guilabel> page. That page displays the added resource and includes the failover domain in the cluster menu to the left under <guimenu>Domain</guimenu>.
					</para>
				</listitem>
				<listitem>
					<para>
						To make additional changes to the failover domain, continue modifications at the <guilabel>Failover Domain Form</guilabel> page and click <guibutton>Submit</guibutton> when you are done.
					</para>
				</listitem>
			</orderedlist>
		</section>

	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_Cluster_Resources">
		<title>Adding Cluster Resources</title>
		<para>
			To add a cluster resource, follow the steps in this section. The starting point of the procedure is at the cluster-specific page that you navigate to from <guilabel>Choose a cluster to administer</guilabel> displayed on the <guimenu>cluster</guimenu> tab.
		</para>
		<orderedlist>
			<listitem>
				<para>
					At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Resources</guimenu>. Clicking <guimenu>Resources</guimenu> causes the display of resources in the center of the page and causes the display of menu items for resource configuration: <guimenu>Add a Resource</guimenu> and <guimenu>Configure a Resource</guimenu>.
				</para>
			</listitem>
			<listitem>
				<para>
					Click <guimenu>Add a Resource</guimenu>. Clicking <guimenu>Add a Resource</guimenu> causes the <guilabel>Add a Resource</guilabel> page to be displayed.
				</para>
			</listitem>
			<listitem>
				<para>
					At the <guilabel>Add a Resource</guilabel> page, click the drop-down box under <guimenu>Select a Resource Type</guimenu> and select the type of resource to configure. The resource options are described as follows:
				</para>
				<variablelist>
					<varlistentry>
						<term>GFS</term>
						<listitem>
							<para>
								<guimenu>Name</guimenu> &mdash; Create a name for the file system resource.
							</para>
							<para>
								<guimenu>Mount Point</guimenu> &mdash; Choose the path to which the file system resource is mounted.
							</para>
							<para>
								<guimenu>Device</guimenu> &mdash; Specify the device file associated with the file system resource.
							</para>
							<para>
								<guimenu>Options</guimenu> &mdash; Mount options.
							</para>
							<para>
								<guimenu>File System ID</guimenu> &mdash; When creating a new file system resource, you can leave this field blank. Leaving the field blank causes a file system ID to be assigned automatically after you click <guibutton>Submit</guibutton> at the <guimenu>File System Resource Configuration</guimenu> dialog box. If you need to assign a file system ID explicitly, specify it in this field.
							</para>
							<para>
								<guimenu>Force Unmount</guimenu> checkbox &mdash; If checked, forces the file system to unmount. The default setting is unchecked. <guimenu>Force Unmount</guimenu> kills all processes using the mount point to free up the mount when it tries to unmount. With GFS resources, the mount point is <emphasis>not</emphasis> unmounted at service tear-down <emphasis>unless</emphasis> this box is checked.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>File System</term>
						<listitem>
							<para>
								<guimenu>Name</guimenu> &mdash; Create a name for the file system resource.
							</para>
							<para>
								<guimenu>File System Type</guimenu> &mdash; Choose the file system for the resource using the drop-down menu.
							</para>
							<para>
								<guimenu>Mount Point</guimenu> &mdash; Choose the path to which the file system resource is mounted.
							</para>
							<para>
								<guimenu>Device</guimenu> &mdash; Specify the device file associated with the file system resource.
							</para>
							<para>
								<guimenu>Options</guimenu> &mdash; Mount options. system.
							</para>
							<para>
								<guimenu>File System ID</guimenu> &mdash; When creating a new file system resource, you can leave this field blank. Leaving the field blank causes a file system ID to be assigned automatically after you click <guibutton>Submit</guibutton> at the <guilabel>File System Resource Configuration</guilabel> dialog box. If you need to assign a file system ID explicitly, specify it in this field.
							</para>
							<para>
								Checkboxes &mdash; Specify mount and unmount actions when a service is stopped (for example, when disabling or relocating a service):
							</para>
							<itemizedlist>
								<listitem>
									<para>
										<guimenu>Force unmount</guimenu> &mdash; If checked, forces the file system to unmount. The default setting is unchecked. <guimenu>Force Unmount</guimenu> kills all processes using the mount point to free up the mount when it tries to unmount.
									</para>
								</listitem>
								<listitem>
									<para>
										<guimenu>Reboot host node if unmount fails</guimenu> &mdash; If checked, reboots the node if unmounting this file system fails. The default setting is unchecked.
									</para>
								</listitem>
								<listitem>
									<para>
										<guimenu>Check file system before mounting</guimenu> &mdash; If checked, causes <command>fsck</command> to be run on the file system before mounting it. The default setting is unchecked.
									</para>
								</listitem>
							</itemizedlist>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>IP Address</term>
						<listitem>
							<para>
								<guimenu>IP Address</guimenu> &mdash; Type the IP address for the resource.
							</para>
							<para>
								<guimenu>Monitor Link</guimenu> checkbox &mdash; Check the box to enable or disable link status monitoring of the IP address resource
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>NFS Mount</term>
						<listitem>
							<para>
								<guimenu>Name</guimenu> &mdash; Create a symbolic name for the NFS mount.
							</para>
							<para>
								<guimenu>Mount Point</guimenu> &mdash; Choose the path to which the file system resource is mounted.
							</para>
							<para>
								<guimenu>Host</guimenu> &mdash; Specify the NFS server name.
							</para>
							<para>
								<guimenu>Export Path</guimenu> &mdash; NFS export on the server.
							</para>
							<para>
								<guimenu>NFS version</guimenu> &mdash; Specify NFS protocol:
							</para>
							<itemizedlist>
								<listitem>
									<para>
										<guimenu>NFS3</guimenu> &mdash; Specifies using NFSv3 protocol. The default setting is <guimenu>NFS</guimenu>.
									</para>
								</listitem>
								<listitem>
									<para>
										<guimenu>NFS4</guimenu> &mdash; Specifies using NFSv4 protocol.
									</para>
								</listitem>
							</itemizedlist>
							<para>
								<guimenu>Options</guimenu> &mdash; Mount options. For more information, refer to the <citerefentry><refentrytitle>nfs</refentrytitle><manvolnum>5</manvolnum></citerefentry> man page.
							</para>
							<para>
								<guimenu>Force Unmount</guimenu> checkbox &mdash; If checked, forces the file system to unmount. The default setting is unchecked. <guimenu>Force Unmount</guimenu> kills all processes using the mount point to free up the mount when it tries to unmount.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>NFS Client</term>
						<listitem>
							<para>
								<guimenu>Name</guimenu> &mdash; Enter a name for the NFS client resource.
							</para>
							<para>
								<guimenu>Target</guimenu> &mdash; Enter a target for the NFS client resource. Supported targets are hostnames, IP addresses (with wild-card support), and netgroups.
							</para>
							<para>
								<guimenu>Options</guimenu> &mdash; Additional client access rights. For more information, refer to the <citerefentry><refentrytitle>exports</refentrytitle><manvolnum>5</manvolnum></citerefentry> man page, <citerefentry><refentrytitle>General Options</refentrytitle></citerefentry>
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>NFS Export</term>
						<listitem>
							<para>
								<guimenu>Name</guimenu> &mdash; Enter a name for the NFS export resource.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>Script</term>
						<listitem>
							<para>
								<guimenu>Name</guimenu> &mdash; Enter a name for the custom user script.
							</para>
							<para>
								<guimenu>File (with path)</guimenu> &mdash; Enter the path where this custom script is located (for example, <filename>/etc/init.d/<replaceable>userscript</replaceable></filename>)
							</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>Samba Service</term>
						<listitem>
							<para>
								<guimenu>Name</guimenu> &mdash; Enter a name for the Samba server.
							</para>
							<para>
								<guimenu>Workgroup</guimenu> &mdash; Enter the Windows workgroup name or Windows NT domain of the Samba service.
							</para>
							<note>
								<title>Note</title>
								<para>
									When creating or editing a cluster service, connect a Samba-service resource directly to service, <emphasis>not</emphasis> to a resource within a service.
								</para>
							</note>
						</listitem>
					</varlistentry>
				</variablelist>
			</listitem>
			<listitem>
				<para>
					Click <guibutton>Submit</guibutton>. Clicking <guibutton>Submit</guibutton> causes a progress page to be displayed followed by the display of <guilabel>Resources for<replaceable>cluster name</replaceable></guilabel> page. That page displays the added resource (and other resources).
				</para>
			</listitem>
		</orderedlist>
	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_a_Cluster_Service_to_the_Cluster">
		<title>Adding a Cluster Service to the Cluster</title>
		<indexterm>
			<primary>cluster service managers</primary>
			<secondary>configuration</secondary>
		</indexterm>
		<indexterm>
			<primary>cluster services</primary>
			<seealso>adding to the cluster configuration</seealso>
		</indexterm>
		<para>
			To add a cluster service to the cluster, follow the steps in this section. The starting point of the procedure is at the cluster-specific page that you navigate to from <guilabel>Choose a cluster to administer</guilabel> displayed on the <guimenu>cluster</guimenu> tab.
		</para>
		<orderedlist>
			<listitem>
				<para>
					At the detailed menu for the cluster (below the <guimenu>clusters</guimenu> menu), click <guimenu>Services</guimenu>. Clicking <guimenu>Services</guimenu> causes the display of services in the center of the page and causes the display of menu items for services configuration: <guimenu>Add a Service</guimenu> and <guimenu>Configure a Service</guimenu>.
				</para>
			</listitem>
			<listitem>
				<para>
					Click <guimenu>Add a Service</guimenu>. Clicking <guimenu>Add a Service</guimenu> causes the <guilabel>Add a Service</guilabel> page to be displayed.
				</para>
			</listitem>
			<listitem>
				<para>
					On the <guilabel>Add a Service</guilabel> page, at the <guimenu>Service name</guimenu> text box, type the name of the service. Below the <guimenu>Service name</guimenu> text box is an checkbox labeled <guimenu>Automatically start this service</guimenu>. The checkbox is checked by default. When the checkbox is checked, the service is started automatically when a cluster is started and running. If the checkbox is <emphasis>not</emphasis> checked, the service must be started manually any time the cluster comes up from the stopped state.
				</para>
				<tip>
					<title>Tip</title>
					<para>
						Use a descriptive name that clearly distinguishes the service from other services in the cluster.
					</para>
				</tip>
			</listitem>
			<listitem>
				<para>
					Add a resource to the service; click <guibutton>Add a resource to this service</guibutton>. Clicking <guibutton>Add a resource to this service</guibutton> causes the display of two drop-down boxes: <guimenu>Add a new local resource</guimenu> and <guimenu>Use an existing global resource</guimenu>. Adding a new local resource adds a resource that is available <emphasis>only</emphasis> to this service. The process of adding a local resource is the same as adding a global resource described in <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_Cluster_Resources" />. Adding a global resource adds a resource that has been previously added as a global resource (refer to <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_Cluster_Resources" />).
				</para>
			</listitem>
			<listitem>
				<para>
					At the drop-down box of either <guimenu>Add a new local resource</guimenu> or <guimenu>Use an existing global resource</guimenu>, select the resource to add and configure it according to the options presented. (The options are the same as described in <xref linkend="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Adding_Cluster_Resources" />.)
				</para>
				<note>
					<title>Note</title>
					<para>
						If you are adding a Samba-service resource, connect a Samba-service resource directly to the service, <emphasis>not</emphasis> to a resource within a service.
					</para>
				</note>
			</listitem>
			<listitem>
				<para>
					If you want to add resources to that resource, click <guibutton>Add a child</guibutton>. Clicking <guibutton>Add a child</guibutton> causes the display of additional options to local and global resources. You can continue adding children resources to the resource to suit your requirements. To view children resources, click the triangle icon to the left of <guimenu>Show Children</guimenu>.
				</para>
			</listitem>
			<listitem>
				<para>
					When you have completed adding resources to the service, and have completed adding children resources to resources, click <guibutton>Submit</guibutton>. Clicking <guibutton>Submit</guibutton> causes a progress page to be displayed followed by a page displaying the added service (and other services).
				</para>
			</listitem>
		</orderedlist>
		<note>
			<title>Note</title>
			<para>
				To verify the existence of the IP service resource used in a cluster service, you must use the <command>/sbin/ip addr list</command> command on a cluster node. The following output shows the <command>/sbin/ip addr list</command> command executed on a node running a cluster service:
			</para>
<screen>
1: lo: &lt;LOOPBACK,UP&gt; mtu 16436 qdisc noqueue 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP&gt; mtu 1356 qdisc pfifo_fast qlen 1000
    link/ether 00:05:5d:9a:d8:91 brd ff:ff:ff:ff:ff:ff
    inet 10.11.4.31/22 brd 10.11.7.255 scope global eth0
    inet6 fe80::205:5dff:fe9a:d891/64 scope link
    inet 10.11.4.240/22 scope global secondary eth0
       valid_lft forever preferred_lft forever
</screen>
		</note>
	</section>
	
	<section id="Cluster_Administration-Configuring_RH_Cluster_With_Conga-Configuring_Cluster_Storage">
		<title>Configuring Cluster Storage</title>
		<indexterm>
			<primary>cluster storage</primary>
			<secondary>configuration</secondary>
		</indexterm>
		<indexterm>
			<primary>configuring cluster storage </primary>
		</indexterm>
		<para>
			To configure storage for a cluster, click the <guimenu>storage</guimenu> tab. Clicking that tab causes the display of the <guilabel>Welcome to Storage Configuration Interface</guilabel> page.
		</para>
		<para>
			The <guimenu>storage</guimenu> tab allows you to monitor and configure storage on remote systems. It provides a means for configuring disk partitions, logical volumes (clustered and single system use), file system parameters, and mount points. The <guimenu>storage</guimenu> tab provides an interface for setting up shared storage for clusters and offers GFS and other file systems as file system options. When a you select the <guimenu>storage</guimenu> tab, the <guilabel>Welcome to Storage Configuration Interface</guilabel> page shows a list of systems available to the you in a navigation table to the left. A small form allows you to choose a storage unit size to suit your preference. That choice is persisted and can be changed at any time by returning to this page. In addition, you can change the unit type on specific configuration forms throughout the storage user interface. This general choice allows you to avoid difficult decimal representations of storage size (for example, if you know that most of your storage is measured in gigabytes, terabytes, or other more familiar representations).
		</para>
		<para>
			Additionally, the <guilabel>Welcome to Storage Configuration Interface</guilabel> page lists systems that you are authorized to access, but currently are unable to administer because of a problem. Examples of problems:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					A computer is unreachable via the network.
				</para>
			</listitem>
			<listitem>
				<para>
					A computer has been re-imaged and the <application>luci</application> server admin must re-authenticate with the <application>ricci</application> agent on the computer.
				</para>
			</listitem>
		</itemizedlist>
		<para>
			A reason for the trouble is displayed if the storage user interface can determine it.
		</para>
		<para>
			Only those computers that the user is privileged to administer is shown in the main navigation table. If you have no permissions on any computers, a message is displayed.
		</para>
		<para>
			After you select a computer to administer, a general properties page is displayed for the computer. This page is divided into three sections:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					<guimenu> Hard Drives </guimenu>
				</para>
			</listitem>
			<listitem>
				<para>
					<guimenu> Partitions </guimenu>
				</para>
			</listitem>
			<listitem>
				<para>
					<guimenu> Volume Groups </guimenu>
				</para>
			</listitem>
		</itemizedlist>
		<para>
			Each section is set up as an expandable tree, with links to property sheets for specific devices, partitions, and storage entities.
		</para>
		<para>
			Configure the storage for your cluster to suit your cluster requirements. If you are configuring &RHGFS;, configure clustered logical volumes first, using CLVM. For more information about CLVM and GFS refer to &RH; documentation for those products.
		</para>
	</section>

</chapter>

