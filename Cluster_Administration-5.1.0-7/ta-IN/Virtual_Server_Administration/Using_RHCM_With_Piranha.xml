<?xml version='1.0'?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % RH_ENTITIES SYSTEM "Common_Content/Entities.ent">
%RH_ENTITIES;
<!ENTITY % RH_TRANS_ENTITIES SYSTEM "Common_Content/Translatable-Entities.ent">
%RH_TRANS_ENTITIES;
]>

<appendix id="Virtual_Server_Administration-Using_LVS_with_RH_Cluster">
	<title>Using LVS with &RH; Cluster</title>
	<indexterm>
		<primary>LVS</primary>
		<secondary>using LVS with &RH; Cluster</secondary>
	</indexterm>
	<indexterm>
		<primary>cluster</primary>
		<secondary>using LVS with &RH; Cluster</secondary>
	</indexterm>
	<indexterm>
		<primary>&RH; Cluster</primary>
		<secondary>and LVS</secondary>
	</indexterm>
	<indexterm>
		<primary>&RH; Cluster</primary>
		<secondary>using LVS with</secondary>
	</indexterm>
	<para>
		You can use LVS routers with a &RH; Cluster to deploy a high-availability e-commerce site that provides load balancing, data integrity, and application availability.
	</para>
	<para>
		The configuration in <xref linkend="Virtual_Server_Administration-Using_LVS_with_RH_Cluster-LVS_with_a_RH_Cluster" /> represents an e-commerce site used for online merchandise ordering through a URL. Client requests to the URL pass through the firewall to the active LVS load-balancing router, which then forwards the requests to one of the Web servers. The &RH; Cluster nodes serve dynamic data to the Web servers, which forward the data to the requesting client.
	</para>
	<figure id="Virtual_Server_Administration-Using_LVS_with_RH_Cluster-LVS_with_a_RH_Cluster">
		<title>LVS with a &RH; Cluster</title>
		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/9363.png" />
			</imageobject>
			<textobject>
				<para>
					LVS with a &RH; Cluster
				</para>
			</textobject>
		</mediaobject>
	</figure>
	<para>
		Serving dynamic Web content with LVS requires a three-tier configuration (as shown in <xref linkend="Virtual_Server_Administration-Using_LVS_with_RH_Cluster-LVS_with_a_RH_Cluster" />). This combination of LVS and &RH; Cluster allows for the configuration of a high-integrity, no-single-point-of-failure e-commerce site. The &RH; Cluster can run a high-availability instance of a database or a set of databases that are network-accessible to the Web servers.
	</para>
	<para>
		A three-tier configuration is required to provide dynamic content. While a two-tier LVS configuration is suitable if the Web servers serve only static Web content (consisting of small amounts of infrequently changing data), a two-tier configuration is not suitable if the Web servers serve dynamic content. Dynamic content could include product inventory, purchase orders, or customer databases, which must be consistent on all the Web servers to ensure that customers have access to up-to-date and accurate information.
	</para>
	<para>
		Each tier provides the following functions:
	</para>
	<itemizedlist>
		<listitem>
			<para>
				First tier &mdash; LVS routers performing load-balancing to distribute Web requests.
			</para>
		</listitem>
		<listitem>
			<para>
				Second tier &mdash; A set of Web servers to serve the requests.
			</para>
		</listitem>
		<listitem>
			<para>
				Third tier &mdash; A &RH; Cluster to serve data to the Web servers.
			</para>
		</listitem>
	</itemizedlist>
	<para>
		In an LVS configuration like the one in <xref linkend="Virtual_Server_Administration-Using_LVS_with_RH_Cluster-LVS_with_a_RH_Cluster" />, client systems issue requests on the World Wide Web. For security reasons, these requests enter a Web site through a firewall, which can be a Linux system serving in that capacity or a dedicated firewall device. For redundancy, you can configure firewall devices in a failover configuration. Behind the firewall are LVS load-balancing routers, which can be configured in an active-standby mode. The active load-balancing router forwards the requests to the set of Web servers.
	</para>
	<para>
		Each Web server can independently process an HTTP request from a client and send the response back to the client. LVS enables you to expand a Web site&#39;s capacity by adding Web servers behind the LVS routers; the LVS routers perform load balancing across a wider set of Web servers. In addition, if a Web server fails, it can be removed; LVS continues to perform load balancing across a smaller set of Web servers.
	</para>
</appendix>

